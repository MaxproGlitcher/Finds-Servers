--[[By MaxproGlitcher Discord:maxproglitcher

-- Site Web official: https://github.com/MaxproGlitcher/Finds-Servers
   
   _____                                       ________.__  .__  __         .__                  
  /     \ _____  ___  ________________  ____  /  _____/|  | |__|/  |_  ____ |  |__   ___________ 
 /  \ /  \\__  \ \  \/  /\____ \_  __ \/  _ \/   \  ___|  | |  \   __\/ ___\|  |  \_/ __ \_  __ \
/    Y    \/ __ \_>    < |  |_> >  | \(  <_> )    \_\  \  |_|  ||  | \  \___|   Y  \  ___/|  | \/
\____|__  (____  /__/\_ \|   __/|__|   \____/ \______  /____/__||__|  \___  >___|  /\___  >__|   
        \/     \/      \/|__|                        \/                   \/     \/     \/    
  

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


   _____                            ______ _           _             _____       _                
  / ____|                          |  ____(_)         | |           |  __ \     | |               
 | (___   ___ _ ____   _____ _ __  | |__   _ _ __   __| | ___ _ __  | |  | | ___| |_   ___  _____ 
  \___ \ / _ \ '__\ \ / / _ \ '__| |  __| | | '_ \ / _` |/ _ \ '__| | |  | |/ _ \ | | | \ \/ / _ \
  ____) |  __/ |   \ V /  __/ |    | |    | | | | | (_| |  __/ |    | |__| |  __/ | |_| |>  <  __/
 |_____/ \___|_|    \_/ \___|_|    |_|    |_|_| |_|\__,_|\___|_|    |_____/ \___|_|\__,_/_/\_\___|
                                                                                                  
                                                                                                  
]]
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- chargement du Gui

local gui = Instance.new("ScreenGui", game.CoreGui)
local RejoinButton = Instance.new("ImageButton")
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false

local background = Instance.new("Frame", gui)
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
background.BackgroundTransparency = 0.2

local label = Instance.new("TextLabel", background)
label.Size = UDim2.new(0, 250, 0, 50)
label.Position = UDim2.new(0.5, -125, 0.5, -80)
label.BackgroundTransparency = 1
label.Text = "Loading..."
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.Font = Enum.Font.GothamBold
label.TextSize = 26

local barFrame = Instance.new("Frame", background)
barFrame.Size = UDim2.new(0, 300, 0, 14)
barFrame.Position = UDim2.new(0.5, -150, 0.5, -20)
barFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
barFrame.BorderSizePixel = 0

Instance.new("UICorner", barFrame).CornerRadius = UDim.new(0, 8)
Instance.new("UIStroke", barFrame).Color = Color3.fromRGB(80, 80, 80)

local bar = Instance.new("Frame", barFrame)
bar.Size = UDim2.new(0, 0, 1, 0)
bar.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
bar.BorderSizePixel = 0

Instance.new("UICorner", bar).CornerRadius = UDim.new(0, 8)

bar:TweenSize(UDim2.new(1, 0, 1, 0), "Out", "Quad", 2, true)
task.wait(2.2)

label.Text = "Server Finder Deluxe!!!"

task.wait(2.2)

label.Text = "Success!!!"
label.TextColor3 = Color3.fromRGB(200, 200, 200)
task.wait(1.2)

gui:Destroy()

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Compatibilité getgenv

if game:GetService("CoreGui"):FindFirstChild("incognito") then
    oldstring = loadstring
    getfenv().loadstring = function(code)
        local source = code
        source = source:gsub("(%a+)%s*([%+%-%*/])=%s*", "%1 = %1 %2 ")
        return oldstring(source)
    end
end
if not getgenv then
    getfenv().getgenv = function(layer)
        return getfenv(layer)
    end
end

getgenv().NextServer = nil
getgenv().HasScannedAll = false



local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

local IsOnMobile = table.find({Enum.Platform.IOS, Enum.Platform.Android}, game:GetService("UserInputService"):GetPlatform())
VREnabled = game:GetService("VRService").VREnabled

queueteleport = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)
httprequest = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local LocalizationService = game:GetService("LocalizationService")
local TweenService = game:GetService("TweenService")


-- ( Si exploit n'a pas la fonction http le script n'ext pas utilisable )

local requestFunc = nil
if syn and syn.request then
    requestFunc = syn.request
elseif http and http.request then
    requestFunc = http.request
elseif http_request then
    requestFunc = http_request
elseif fluxus and fluxus.request then
    requestFunc = fluxus.request
elseif request then
    requestFunc = request
end


-- Traductions

local translations = {
	["fr"] = "Aucune fonction HTTP supportée trouvée ! 😢",
	["en"] = "No supported HTTP request function found! 😢",
	["es"] = "¡No se encontró ninguna función HTTP compatible! 😢",
	["pt"] = "Nenhuma função HTTP suportada encontrada! 😢",
	["tr"] = "Desteklenen HTTP isteği işlevi bulunamadı! 😢",
	["it"] = "Nessuna funzione HTTP supportata trovata! 😢",
	["de"] = "Keine unterstützte HTTP-Anfragefunktion gefunden! 😢",
	["ar"] = "لم يتم العثور على أي دالة HTTP مدعومة! 😢",
	["ja"] = "サポートされているHTTPリクエスト機能が見つかりません！😢",
	["ru"] = "Поддерживаемая функция HTTP-запроса не найдена! 😢",
	["zh"] = "未找到受支持的HTTP请求函数！😢",
}

local function getTranslatedMessage()
	local langCode = LocalizationService.RobloxLocaleId:sub(1, 2)
	return translations[langCode] or translations["en"]
end


--  Librairie Notification intégrée
local NotificationLib = {
    _notifications = {},
    _theme = {
        primaryColor = Color3.fromRGB(30,30,30),
        textColor = Color3.fromRGB(255,255,255),
        font = Enum.Font.GothamSemibold,
        cornerRadius = UDim.new(0,8)
    },
    _settings = {
        duration = 4,
        spacing = 12,
        fadeTime = 0.28,
        slideDistance = 18
    },
    _icons = { info = "rbxassetid://9405926389" }
}

function NotificationLib:_init()
    if not self._container then
        self._container = Instance.new("ScreenGui")
        self._container.Name = "NotificationLibrary"
        self._container.ResetOnSpawn = false
        self._container.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        self._container.Parent = game:GetService("CoreGui")
    end
end

function NotificationLib:_calculatePosition(index)
    local spacing = self._settings.spacing
    local height = 90
    return UDim2.new(1, -24, 1, -24 - (index-1)*(height+spacing))
end

function NotificationLib:_animateOut(frame, callback)
    local tween = TweenService:Create(frame, TweenInfo.new(self._settings.fadeTime, Enum.EasingStyle.Quad), {
        Position = frame.Position + UDim2.new(0,0,0,self._settings.slideDistance),
        BackgroundTransparency = 1
    })
    tween:Play()
    tween.Completed:Connect(function()
        if frame and frame.Parent then frame:Destroy() end
        if callback then callback() end
    end)
end

function NotificationLib:Notify(opt)
    self:_init()
    opt = opt or {}
    local title = opt.Title or "Notification"
    local message = opt.Message or ""
    local duration = opt.Duration or self._settings.duration

    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = self._theme.primaryColor
    frame.Size = UDim2.new(0,340,0,90)
    frame.AnchorPoint = Vector2.new(1,1)
    frame.Position = self:_calculatePosition(#self._notifications+1)
    frame.Parent = self._container
    Instance.new("UICorner", frame).CornerRadius = self._theme.cornerRadius

    local icon = Instance.new("ImageLabel", frame)
    icon.Image = self._icons.info
    icon.Size = UDim2.new(0,28,0,28)
    icon.Position = UDim2.new(0,12,0,12)
    icon.BackgroundTransparency = 1

    local titleLabel = Instance.new("TextLabel", frame)
    titleLabel.Font = self._theme.font
    titleLabel.TextColor3 = self._theme.textColor
    titleLabel.TextSize = 16
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Text = title
    titleLabel.BackgroundTransparency = 1
    titleLabel.Size = UDim2.new(1,-60,0,22)
    titleLabel.Position = UDim2.new(0,48,0,10)

    local msgLabel = Instance.new("TextLabel", frame)
    msgLabel.Font = Enum.Font.Gotham
    msgLabel.TextColor3 = self._theme.textColor
    msgLabel.TextSize = 14
    msgLabel.TextWrapped = true
    msgLabel.TextXAlignment = Enum.TextXAlignment.Left
    msgLabel.Text = message
    msgLabel.BackgroundTransparency = 1
    msgLabel.Size = UDim2.new(1,-60,0,48)
    msgLabel.Position = UDim2.new(0,48,0,30)

    table.insert(self._notifications, frame)

    task.delay(duration, function()
        if frame and frame.Parent then
            self:_animateOut(frame,function()
                for i,v in ipairs(self._notifications) do
                    if v==frame then table.remove(self._notifications,i); break end
                end
            end)
        end
    end)
end

-- Si aucune fonction HTTP trouvée : affiche notif et stop
if not requestFunc then
    NotificationLib:Notify({
        Title = "HTTP",
        Message = getTranslatedMessage(),
        Duration = 5
    })
    return
end
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

local screenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))

-- Essayer de créer un parent vers un emplacement protégé
pcall(function()
    if gethui then
        screenGui.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(screenGui)
        screenGui.Parent = game:GetService("CoreGui")
    else
        screenGui.Parent = game:GetService("CoreGui")
    end
end)

if not screenGui.Parent then
    screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
end

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 650, 0, 500)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- protection lors du screen shot le Gui deviendras invisible lors du screen shot

local CaptureService = game:GetService("CaptureService")
CaptureService.CaptureBegan:Connect(function()
    screenGui.Enabled = false
end)

CaptureService.CaptureEnded:Connect(function()
    task.delay(0.5, function()
        screenGui.Enabled = true
    end)
end)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Titre du Gui et la Version

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Server Finder Deluxe"
title.Font = Enum.Font.Ubuntu
title.TextSize = 30
title.TextColor3 = Color3.fromRGB(255, 255, 255)

local versionLabel = Instance.new("TextLabel", mainFrame)
versionLabel.Size = UDim2.new(0, 150, 0, 25)
versionLabel.Position = UDim2.new(0, 10, 0, 10)
versionLabel.BackgroundTransparency = 1
versionLabel.Text = "v4.4"
versionLabel.Font = Enum.Font.Ubuntu
versionLabel.TextSize = 16
versionLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
versionLabel.TextXAlignment = Enum.TextXAlignment.Left

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Détection des périodes spéciales

local isXmas = false
local isHalloween = false
local isNewYear = false
local isEaster = false
local isValentineDay = false

pcall(function()
	local date = os.date("*t")
	isXmas = date.month == 12 and date.day >= 20 and date.day <= 26
	isHalloween = (date.month == 10 and date.day >= 31) or (date.month == 11 and date.day <= 2)
	isNewYear = (date.month == 12 and date.day >= 31) or (date.month == 1 and date.day <= 2)
	isEaster = (date.month == 3 and date.day >= 31) or (date.month == 4 and date.day <= 15)
	isValentineDay = (date.month == 2 and date.day == 14)
end)

-- Fonction pour appliquer les effets de texte
local function decorateTitle(startEmoji, endEmoji)
	title.Text = startEmoji .. " Server Finder Deluxe " .. endEmoji
	title.TextScaled = false
	title.TextSize = 25
	title.Position = UDim2.new(0, 0, 0, 2)
end


-- Effet Noël
if isXmas then
	decorateTitle("🎄", "🎄")
	local cycleColors = {
		Color3.fromRGB(0, 255, 0),
		Color3.fromRGB(255, 0, 0),
		Color3.fromRGB(255, 255, 255)
	}
	local index = 1
	task.spawn(function()
		while true do
			title.TextColor3 = cycleColors[index]
			versionLabel.TextColor3 = cycleColors[index]
			index = index % #cycleColors + 1
			task.wait(0.5)
		end
	end)
end

-- Effet Halloween
if isHalloween then
	decorateTitle("🎃", "🎃")
	local cycleColors = {
		Color3.fromRGB(0, 0, 0),
		Color3.fromRGB(255, 165, 0)
	}
	local index = 1
	task.spawn(function()
		while true do
			title.TextColor3 = cycleColors[index]
			versionLabel.TextColor3 = cycleColors[index]
			index = index % #cycleColors + 1
			task.wait(0.5)
		end
	end)
end

-- Effet Nouvel An
if isNewYear then
	decorateTitle("🎉", "🎉")
	local cycleColors = {
		Color3.fromRGB(255, 255, 0),
		Color3.fromRGB(0, 0, 0)
	}
	local index = 1
	task.spawn(function()
		while true do
			title.TextColor3 = cycleColors[index]
			versionLabel.TextColor3 = cycleColors[index]
			index = index % #cycleColors + 1
			task.wait(0.5)
		end
	end)
end

-- Effet Pâques
if isEaster then
	decorateTitle("🐰", "🐰")
	local cycleColors = {
		Color3.fromRGB(216, 191, 216),
		Color3.fromRGB(255, 182, 193),
		Color3.fromRGB(193, 225, 193),
		Color3.fromRGB(173, 216, 230)
	}
	local index = 1
	task.spawn(function()
		while true do
			title.TextColor3 = cycleColors[index]
			versionLabel.TextColor3 = cycleColors[index]
			index = index % #cycleColors + 1
			task.wait(0.5)
		end
	end)
end

-- Effet ValentineDay
if isValentineDay then
	decorateTitle("💗", "💗")
	local cycleColors = { 
		Color3.fromRGB(0, 0, 0),
		Color3.fromRGB( 255, 85, 127)
	}
	local index = 1
	task.spawn(function()
		while true do
			title.TextColor3 = cycleColors[index]
			versionLabel.TextColor3 = cycleColors[index]
			index = index % #cycleColors + 1
			task.wait(0.5)
		end
	end)
end


-- Si aucune fête, retour à la normale
if not isXmas and not isHalloween and not isNewYear and not isEaster and not isValentineDay then
	title.Text = "Server Finder Deluxe"
	title.Position = UDim2.new(0, 0, 0, 0)
end

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

local scrollFrame = Instance.new("ScrollingFrame", mainFrame)
scrollFrame.Size = UDim2.new(1, -20, 1, -60)
scrollFrame.Position = UDim2.new(0, 10, 0, 50)
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrollFrame.ScrollBarThickness = 6
scrollFrame.BackgroundTransparency = 1

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local layout = Instance.new("UIListLayout", scrollFrame)
layout.Padding = UDim.new(0, 10)

local posChange = 8
local serverFrames = {}

-- Le code qui scann tout les servers publics

local function GetAllServers(PlaceID)
	getgenv().NextServer = nil
	getgenv().HasScannedAll = false
	local T = {}
	xpcall(function()
		local Site = HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Desc&limit=100'))
		if Site.nextPageCursor and Site.nextPageCursor ~= "null" then
			getgenv().NextServer = HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Desc&limit=100&cursor=' .. Site.nextPageCursor))
			table.insert(T, (getgenv().NextServer).data)
			while not getgenv().HasScannedAll do
				task.wait()
				if (getgenv().NextServer).nextPageCursor and (getgenv().NextServer).nextPageCursor ~= "null" then
					getgenv().NextServer = HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Desc&limit=100&cursor=' .. (getgenv().NextServer).nextPageCursor))
					table.insert(T, (getgenv().NextServer).data)
				else
					getgenv().HasScannedAll = true
				end
			end
		else
			table.insert(T, Site.data)
		end
	end,function()

	end)
	return T
end
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Frame avec les Pings des connections des servers public et le nombre de players dans les servers publics

local function CreateServerFrame(server)
	local serverFrame = Instance.new("Frame", scrollFrame)
	serverFrame.Size = UDim2.new(1, 0, 0, 120)
	serverFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	serverFrame.BorderSizePixel = 0

	-- Textlabel Pour le nombre de joueurs, ping du servers , et le nombre Maximal du servers public.

	local infoLabel = Instance.new("TextLabel", serverFrame)
	infoLabel.Size = UDim2.new(0, 300, 0, 60)
	infoLabel.Position = UDim2.new(0, 10, 0, 10)
	infoLabel.BackgroundTransparency = 1
	infoLabel.TextWrapped = true
	infoLabel.TextXAlignment = Enum.TextXAlignment.Left
	infoLabel.TextYAlignment = Enum.TextYAlignment.Top
	infoLabel.Font = Enum.Font.Ubuntu
	infoLabel.TextSize = 16
	infoLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	local fps = math.floor(1000 / (server.ping or 1))
    infoLabel.Text = "Ping : " .. (server.ping or "N/A") ..
                 "\nFPS : " .. fps ..
                 "\nPlayers : " .. server.playing .. "/" .. server.maxPlayers

        -- ID du Jeux 

        local placeIdLabel = Instance.new("TextLabel", serverFrame)
	placeIdLabel.Size = UDim2.new(0, 300, 0, 20)
	placeIdLabel.Position = UDim2.new(0, 10, 0, 76)
	placeIdLabel.BackgroundTransparency = 1
	placeIdLabel.TextWrapped = true
	placeIdLabel.TextXAlignment = Enum.TextXAlignment.Left
	placeIdLabel.TextYAlignment = Enum.TextYAlignment.Top
	placeIdLabel.Font = Enum.Font.Ubuntu
	placeIdLabel.TextSize = 14
	placeIdLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
	placeIdLabel.Text = "Game ID : " .. tostring(game.PlaceId)

	-- ID des Servers Publics

	local idLabel = Instance.new("TextLabel", serverFrame)
	idLabel.Size = UDim2.new(0, 300, 0, 20)
	idLabel.Position = UDim2.new(0, 10, 0, 94)
	idLabel.BackgroundTransparency = 1
	idLabel.TextWrapped = true
	idLabel.TextXAlignment = Enum.TextXAlignment.Left
	idLabel.TextYAlignment = Enum.TextYAlignment.Top
	idLabel.Font = Enum.Font.Ubuntu
	idLabel.TextSize = 14
	idLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
	idLabel.Text = "ID : " .. server.id

	-- Les buttons rejoint pour tout les Servers public obtenu

	local joinButton = Instance.new("TextButton", serverFrame)
	joinButton.Size = UDim2.new(0, 100, 0, 40)
	joinButton.Position = UDim2.new(1, -110, 0.5, -20)
	joinButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	joinButton.Text = "Join"
	joinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	joinButton.Font = Enum.Font.Ubuntu
	joinButton.TextSize = 18

joinButton.MouseButton1Click:Connect(function()
	TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, LocalPlayer)
end)

-- Les boutons Copy Server ID

local copyJoinButton = Instance.new("TextButton", serverFrame)
copyJoinButton.Size = UDim2.new(0, 100, 0, 30)
copyJoinButton.Position = UDim2.new(1, -110, 0.5, 25)
copyJoinButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
copyJoinButton.Text = "Copy Join"
copyJoinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
copyJoinButton.Font = Enum.Font.Ubuntu
copyJoinButton.TextSize = 16

copyJoinButton.MouseButton1Click:Connect(function()
	local joinCommand = "Roblox.GameLauncher.joinGameInstance(" .. game.PlaceId .. ', "' .. server.id .. '")'
	setclipboard(joinCommand)
end)

table.insert(serverFrames, serverFrame)
end

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Global Servers
local allServers = {}
local fpsCheckInterval = 1
local minFPS = 21
local maxPing = 350 -- au-dessus de ça on passe en mode fluide
local smoothMode = false

-- FPS Calculateurs
local RunService = game:GetService("RunService")
local lastTime = tick()
local frames = 0

RunService.RenderStepped:Connect(function()
	frames += 1
	if tick() - lastTime >= fpsCheckInterval then
		local fps = frames / (tick() - lastTime)
		smoothMode = fps < minFPS -- si FPS trop bas, mode fluide
		frames = 0
		lastTime = tick()
	end
end)

-- Vérifie si un serveur a un ping trop élevé
local function hasHighPing(servers)
	if typeof(servers) ~= "table" then return false end
	for _, server in ipairs(servers) do
		if (server.ping or 0) > maxPing then
			return true
		end
	end
	return false
end

function updateServerList(servers)
	-- sécurité
	if typeof(servers) ~= "table" then return end

	for _, v in pairs(serverFrames) do
		v:Destroy()
	end
	posChange = 8
	table.clear(serverFrames)

	-- si FPS bas OU pings trop élevés
	if smoothMode or hasHighPing(servers) then
		task.spawn(function()
			for _, server in ipairs(servers) do
				CreateServerFrame(server)
				posChange += 154
				task.wait(0.05)
			end
		end)
	else
		for _, server in ipairs(servers) do
			CreateServerFrame(server)
			posChange += 154
		end
	end
end

function refreshServers()
	local servers = GetAllServers(game.PlaceId)

	-- sécurité : vérifie que servers est bien une table et contient quelque chose
	if typeof(servers) == "table" and #servers > 0 then
		allServers = servers[1] or {}
		updateServerList(allServers)
	else
		warn("No server found or API error")
		showErrorTween()
	end
end



refreshServers()

UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.RightControl then
		screenGui:Destroy()
	end
end)


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Fonction de notification d'erreur

local TweenService = game:GetService("TweenService")
local LocalizationService = game:GetService("LocalizationService")

-- Traductions
local langText = {
	["fr"] = "Erreur de chargement. Réessaie.",
	["en"] = "Error loading. Please try again.",
	["es"] = "Error al cargar. Inténtalo de nuevo.",
	["pt"] = "Erro ao carregar. Por favor, tente novamente.",
	["tr"] = "Yükleme hatası. Lütfen tekrar deneyin.",
	["it"] = "Errore nel caricamento. Riprova.",
	["de"] = "Fehler beim Laden. Bitte versuche es erneut.",
	["ar"] = "حدث خطأ أثناء التحميل. الرجاء المحاولة مرة أخرى.",
	["ja"] = "読み込みエラーが発生しました。もう一度お試しください。",
	["ru"] = "Ошибка загрузки. Пожалуйста, попробуйте еще раз.",
	["zh"] = "加载错误。请重试。"
}

local function getTranslatedMessage()
	local langCode = (LocalizationService.RobloxLocaleId or "en"):sub(1,2)
	return langText[langCode] or langText["en"]
end

-- Librairie Notification intégrée
local NotificationLib = {
    _notifications = {},
    _theme = {
        primaryColor = Color3.fromRGB(30, 30, 30),
        textColor = Color3.fromRGB(255, 255, 255),
        font = Enum.Font.GothamSemibold,
        cornerRadius = UDim.new(0, 8)
    },
    _settings = {
        duration = 4,
        spacing = 12,
        fadeTime = 0.28,
        slideDistance = 18
    },
    _icons = { info = "rbxassetid://9405926389" }
}

function NotificationLib:_init()
	if not self._container then
		self._container = Instance.new("ScreenGui")
		self._container.Name = "NotificationLibrary"
		self._container.ResetOnSpawn = false
		self._container.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
		self._container.Parent = game:GetService("CoreGui")
	end
end

function NotificationLib:_calculatePosition(index)
	local spacing = self._settings.spacing
	local height = 90
	return UDim2.new(1, -24, 1, -24 - (index-1)*(height+spacing))
end

function NotificationLib:_animateOut(frame, callback)
	local tween = TweenService:Create(frame, TweenInfo.new(self._settings.fadeTime, Enum.EasingStyle.Quad), {
		Position = frame.Position + UDim2.new(0,0,0,self._settings.slideDistance),
		BackgroundTransparency = 1
	})
	tween:Play()
	tween.Completed:Connect(function()
		if frame and frame.Parent then frame:Destroy() end
		if callback then callback() end
	end)
end

function NotificationLib:Notify(opt)
	self:_init()
	opt = opt or {}
	local title = opt.Title or "Notification"
	local message = opt.Message or ""
	local duration = opt.Duration or self._settings.duration

	local frame = Instance.new("Frame")
	frame.BackgroundColor3 = self._theme.primaryColor
	frame.Size = UDim2.new(0, 340, 0, 90)
	frame.AnchorPoint = Vector2.new(1,1)
	frame.Position = self:_calculatePosition(#self._notifications + 1)
	frame.Parent = self._container
	Instance.new("UICorner", frame).CornerRadius = self._theme.cornerRadius

	local icon = Instance.new("ImageLabel", frame)
	icon.Image = self._icons.info
	icon.Size = UDim2.new(0,28,0,28)
	icon.Position = UDim2.new(0,12,0,12)
	icon.BackgroundTransparency = 1

	local titleLabel = Instance.new("TextLabel", frame)
	titleLabel.Font = self._theme.font
	titleLabel.TextColor3 = self._theme.textColor
	titleLabel.TextSize = 16
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left
	titleLabel.Text = title
	titleLabel.BackgroundTransparency = 1
	titleLabel.Size = UDim2.new(1,-60,0,22)
	titleLabel.Position = UDim2.new(0,48,0,10)

	local msgLabel = Instance.new("TextLabel", frame)
	msgLabel.Font = Enum.Font.Gotham
	msgLabel.TextColor3 = self._theme.textColor
	msgLabel.TextSize = 14
	msgLabel.TextWrapped = true
	msgLabel.TextXAlignment = Enum.TextXAlignment.Left
	msgLabel.Text = message
	msgLabel.BackgroundTransparency = 1
	msgLabel.Size = UDim2.new(1,-60,0,48)
	msgLabel.Position = UDim2.new(0,48,0,30)

	table.insert(self._notifications, frame)

	task.delay(duration, function()
		if frame and frame.Parent then
			self:_animateOut(frame, function()
				for i,v in ipairs(self._notifications) do
					if v == frame then table.remove(self._notifications,i); break end
				end
			end)
		end
	end)
end

-- Bouton Refresh 
local function CreateRefreshButton(mainFrame)
	local refreshBtn = Instance.new("ImageButton")
	refreshBtn.Parent = mainFrame
	refreshBtn.AnchorPoint = Vector2.new(0.5,0.5)
	refreshBtn.Size = UDim2.new(0,47,0,47)
	refreshBtn.Position = UDim2.new(0.5,250,0.5,-220)
	refreshBtn.Image = "http://www.roblox.com/asset/?id=126446661859683"
	refreshBtn.BackgroundTransparency = 1
	refreshBtn.ZIndex = 10

	refreshBtn.MouseButton1Click:Connect(function()
		local success, err = pcall(refreshServers)
		if not success then
			NotificationLib:Notify({
				Title = "Error",
				Message = getTranslatedMessage(),
				Duration = 4
			})
		end
	end)
end

-- Appel refresh Button
CreateRefreshButton(mainFrame)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Le button Low Players et Max Players

local function sortServers(servers, currentSort)
	if typeof(servers) ~= "table" then return {} end

	if currentSort == "lowPlayers" then
		table.sort(servers, function(a, b)
			return (a.playing or 0) < (b.playing or 0)
		end)
	elseif currentSort == "maxPlayers" then
		table.sort(servers, function(a, b)
			return (a.playing or 0) > (b.playing or 0)
		end)
	elseif currentSort == "fastest" then
		table.sort(servers, function(a, b)
			return (a.ping or 9999) < (b.ping or 9999)
		end)
	end

	return servers
end



local lowPlayersBtn = Instance.new("ImageButton", mainFrame)
lowPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
lowPlayersBtn.Size = UDim2.new(0, 40, 0, 40)
lowPlayersBtn.Position = UDim2.new(0.5, -183, 0.5, -220)
lowPlayersBtn.Image = "http://www.roblox.com/asset/?id=78395837711238"
lowPlayersBtn.BackgroundTransparency = 1
lowPlayersBtn.ZIndex = 2

local maxPlayersBtn = Instance.new("ImageButton", mainFrame)
maxPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
maxPlayersBtn.Size = UDim2.new(0, 40, 0, 40)
maxPlayersBtn.Position = UDim2.new(0.5, -264, 0.5, -220)
maxPlayersBtn.Image = "http://www.roblox.com/asset/?id=117409611207958"
maxPlayersBtn.BackgroundTransparency = 1
maxPlayersBtn.ZIndex = 2

lowPlayersBtn.MouseButton1Click:Connect(function()
	local sorted = sortServers(allServers, "lowPlayers")
	updateServerList(sorted)
end)

maxPlayersBtn.MouseButton1Click:Connect(function()
	local sorted = sortServers(allServers, "maxPlayers")
	updateServerList(sorted)
end)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Buttons pour copy le server public ou nous somme live!!!

local TweenService = game:GetService("TweenService")
local LocalizationService = game:GetService("LocalizationService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Traductions
local langText = {
    ["fr"] = "L'ID du serveur a été copié avec succès !",
    ["en"] = "Server ID copied successfully!",
    ["es"] = "¡ID del servidor copiado correctamente!",
    ["de"] = "Server-ID erfolgreich kopiert!",
    ["it"] = "ID del server copiato con successo!",
    ["pt"] = "ID do servidor copiado com sucesso!",
    ["ru"] = "ID сервера успешно скопирован!",
    ["zh"] = "服务器ID复制成功！",
    ["tr"] = "Sunucu kimliği başarıyla kopyalandı!",
    ["ja"] = "サーバーIDが正常にコピーされました！",
    ["ar"] = "تم نسخ معرف الخادم بنجاح!",
}

local function getTranslatedMessage()
    local langCode = (LocalizationService.RobloxLocaleId or "en"):sub(1,2)
    return langText[langCode] or langText["en"]
end

-- Librairie Notification intégrée
local NotificationLib = {
    _notifications = {},
    _theme = {
        primaryColor = Color3.fromRGB(30,30,30),
        textColor = Color3.fromRGB(255,255,255),
        font = Enum.Font.GothamSemibold,
        cornerRadius = UDim.new(0,8)
    },
    _settings = {
        duration = 4,
        spacing = 12,
        fadeTime = 0.28,
        slideDistance = 18
    },
    _icons = { info = "rbxassetid://9405926389" }
}

function NotificationLib:_init()
    if not self._container then
        self._container = Instance.new("ScreenGui")
        self._container.Name = "NotificationLibrary"
        self._container.ResetOnSpawn = false
        self._container.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        self._container.Parent = game:GetService("CoreGui")
    end
end

function NotificationLib:_calculatePosition(index)
    local spacing = self._settings.spacing
    local height = 90
    return UDim2.new(1,-24,1,-24-(index-1)*(height+spacing))
end

function NotificationLib:_animateOut(frame, callback)
    local tween = TweenService:Create(frame, TweenInfo.new(self._settings.fadeTime, Enum.EasingStyle.Quad), {
        Position = frame.Position + UDim2.new(0,0,0,self._settings.slideDistance),
        BackgroundTransparency = 1
    })
    tween:Play()
    tween.Completed:Connect(function()
        if frame and frame.Parent then frame:Destroy() end
        if callback then callback() end
    end)
end

function NotificationLib:Notify(opt)
    self:_init()
    opt = opt or {}
    local title = opt.Title or "Notification"
    local message = opt.Message or ""
    local duration = opt.Duration or self._settings.duration

    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = self._theme.primaryColor
    frame.Size = UDim2.new(0,340,0,90)
    frame.AnchorPoint = Vector2.new(1,1)
    frame.Position = self:_calculatePosition(#self._notifications+1)
    frame.Parent = self._container
    Instance.new("UICorner", frame).CornerRadius = self._theme.cornerRadius

    local icon = Instance.new("ImageLabel", frame)
    icon.Image = self._icons.info
    icon.Size = UDim2.new(0,28,0,28)
    icon.Position = UDim2.new(0,12,0,12)
    icon.BackgroundTransparency = 1

    local titleLabel = Instance.new("TextLabel", frame)
    titleLabel.Font = self._theme.font
    titleLabel.TextColor3 = self._theme.textColor
    titleLabel.TextSize = 16
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Text = title
    titleLabel.BackgroundTransparency = 1
    titleLabel.Size = UDim2.new(1,-60,0,22)
    titleLabel.Position = UDim2.new(0,48,0,10)

    local msgLabel = Instance.new("TextLabel", frame)
    msgLabel.Font = Enum.Font.Gotham
    msgLabel.TextColor3 = self._theme.textColor
    msgLabel.TextSize = 14
    msgLabel.TextWrapped = true
    msgLabel.TextXAlignment = Enum.TextXAlignment.Left
    msgLabel.Text = message
    msgLabel.BackgroundTransparency = 1
    msgLabel.Size = UDim2.new(1,-60,0,48)
    msgLabel.Position = UDim2.new(0,48,0,30)

    table.insert(self._notifications, frame)

    task.delay(duration, function()
        if frame and frame.Parent then
            self:_animateOut(frame,function()
                for i,v in ipairs(self._notifications) do
                    if v==frame then table.remove(self._notifications,i); break end
                end
            end)
        end
    end)
end

-- Bouton CopyGamelive avec notif
local CopyGamelive = Instance.new("ImageButton", mainFrame)
CopyGamelive.AnchorPoint = Vector2.new(0.5,0.5)
CopyGamelive.Size = UDim2.new(0,41,0,41)
CopyGamelive.Position = UDim2.new(0.5,-227,0.5,-220)
CopyGamelive.Image = "http://www.roblox.com/asset/?id=122024633828045"
CopyGamelive.BackgroundTransparency = 1
CopyGamelive.ZIndex = 2

CopyGamelive.MouseButton1Click:Connect(function()
	local currentServerId = game.JobId
	local joinCommand = 'Roblox.GameLauncher.joinGameInstance('..game.PlaceId..',"'..currentServerId..'")'
	setclipboard(joinCommand)

	NotificationLib:Notify({
		Title = "Server ID",
		Message = getTranslatedMessage(),
		Duration = 4
	})
end)


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Le button Close pour fermer le Gui Server Finder Deluxe

local closeBtn = Instance.new("ImageButton", mainFrame)
closeBtn.AnchorPoint = Vector2.new(0.5, 0.5)
closeBtn.Size = UDim2.new(0, 40, 0, 40)
closeBtn.Position = UDim2.new(0.5, 298, 0.5, -220)
closeBtn.Image = "http://www.roblox.com/asset/?id=138896199949173"
closeBtn.BackgroundTransparency = 1
closeBtn.ZIndex = 2

closeBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Le Code du button Rejoin pour relancer le jeux dans le même servers publics

local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LocalizationService = game:GetService("LocalizationService")
local LocalPlayer = Players.LocalPlayer

-- // Traductions
local langText = {
	["fr"] = "Reconnexion au serveur...",
	["en"] = "Reconnecting to server...",
	["es"] = "Reconectando al servidor...",
	["de"] = "Wiederverbindung zum Server...",
	["it"] = "Riconnessione al server...",
	["pt"] = "Reconectando ao servidor...",
	["ru"] = "Переподключение к серверу...",
	["zh"] = "正在重新连接服务器...",
	["tr"] = "Sunucuya yeniden bağlanılıyor...",
	["ja"] = "サーバーに再接続中...",
	["ar"] = "إعادة الاتصال بالخادم...",
}

local function getTranslatedMessage()
	-- wait si nécessaire pour que RobloxLocaleId soit prêt
	local tries = 0
	while (not LocalizationService.RobloxLocaleId or #LocalizationService.RobloxLocaleId < 2) and tries < 20 do
		tries = tries + 1
		task.wait(0.05)
	end
	local langCode = (LocalizationService.RobloxLocaleId or "en"):sub(1, 2)
	return langText[langCode] or langText["en"]
end

-- // Début du timer
local startTime = os.clock()

-- // Librairie Notification intégrée (simple)
local NotificationLib = {
    _notifications = {},
    _theme = {
        primaryColor = Color3.fromRGB(30, 30, 30),
        textColor = Color3.fromRGB(255, 255, 255),
        font = Enum.Font.GothamSemibold,
        cornerRadius = UDim.new(0, 8)
    },
    _settings = {
        duration = 4,
        position = "BottomRight",
        maxNotifications = 5,
        spacing = 12,
        fadeTime = 0.28,
        slideDistance = 18
    },
    _icons = {
        info = "rbxassetid://9405926389"
    }
}

function NotificationLib:_init()
	if not self._container then
		self._container = Instance.new("ScreenGui")
		self._container.Name = "NotificationLibrary"
		self._container.ResetOnSpawn = false
		self._container.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
		self._container.Parent = game:GetService("CoreGui")
	end
end

function NotificationLib:_calculatePosition(index)
	local spacing = self._settings.spacing
	local height = 90
	return UDim2.new(1, -24, 1, -24 - (index - 1) * (height + spacing))
end

function NotificationLib:_animateOut(frame, callback)
	local tween = TweenService:Create(frame, TweenInfo.new(self._settings.fadeTime, Enum.EasingStyle.Quad), {
		Position = frame.Position + UDim2.new(0, 0, 0, self._settings.slideDistance),
		BackgroundTransparency = 1
	})
	tween:Play()
	tween.Completed:Connect(function()
		if frame and frame.Parent then frame:Destroy() end
		if callback then callback() end
	end)
end

function NotificationLib:Notify(opt)
	self:_init()
	opt = opt or {}
	local title = opt.Title or "Notification"
	local message = opt.Message or ""
	local duration = opt.Duration or self._settings.duration

	local frame = Instance.new("Frame")
	frame.BackgroundColor3 = self._theme.primaryColor
	frame.Size = UDim2.new(0, 340, 0, 90)
	frame.AnchorPoint = Vector2.new(1, 1)
	frame.Position = self:_calculatePosition(#self._notifications + 1)
	frame.Parent = self._container
	Instance.new("UICorner", frame).CornerRadius = self._theme.cornerRadius

	local icon = Instance.new("ImageLabel", frame)
	icon.Image = self._icons.info
	icon.Size = UDim2.new(0, 28, 0, 28)
	icon.Position = UDim2.new(0, 12, 0, 12)
	icon.BackgroundTransparency = 1

	local titleLabel = Instance.new("TextLabel", frame)
	titleLabel.Font = self._theme.font
	titleLabel.TextColor3 = self._theme.textColor
	titleLabel.TextSize = 16
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left
	titleLabel.Text = title
	titleLabel.BackgroundTransparency = 1
	titleLabel.Size = UDim2.new(1, -60, 0, 22)
	titleLabel.Position = UDim2.new(0, 48, 0, 10)

	local msgLabel = Instance.new("TextLabel", frame)
	msgLabel.Font = Enum.Font.Gotham
	msgLabel.TextColor3 = self._theme.textColor
	msgLabel.TextSize = 14
	msgLabel.TextWrapped = true
	msgLabel.TextXAlignment = Enum.TextXAlignment.Left
	msgLabel.Text = message
	msgLabel.BackgroundTransparency = 1
	msgLabel.Size = UDim2.new(1, -60, 0, 48)
	msgLabel.Position = UDim2.new(0, 48, 0, 30)

	table.insert(self._notifications, frame)

	-- auto remove
	task.delay(duration, function()
		if frame and frame.Parent then
			self:_animateOut(frame, function()
				for i, v in ipairs(self._notifications) do
					if v == frame then table.remove(self._notifications, i); break end
				end
			end)
		end
	end)
end

-- Fin du chargement et notif initiale (garantie d'affichage)
-- Fin du chargement
task.wait(0.1)
local loadTime = os.clock() - startTime

-- (supprimé ici : NotificationLib:Notify au démarrage)

-- Bouton Rejoin (dans ton GUI principal)
local function CreateRejoinButton(mainFrame)
	local RejoinButton = Instance.new("ImageButton")
	RejoinButton.Parent = mainFrame
	RejoinButton.AnchorPoint = Vector2.new(0.5, 0.5)
	RejoinButton.Size = UDim2.new(0, 40, 0, 40)
	RejoinButton.Position = UDim2.new(0.5, 204, 0.5, -220)
	RejoinButton.Image = "rbxassetid://103864549538113"
	RejoinButton.BackgroundTransparency = 1
	RejoinButton.ZIndex = 10

	RejoinButton.MouseButton1Click:Connect(function()
		local loadTime = os.clock() - startTime
		NotificationLib:Notify({
			Title = string.format("Time used: %.3f s", loadTime),
			Message = getTranslatedMessage(),
			Type = "info",
			Duration = 5
		})
		task.wait(2)
		TeleportService:Teleport(game.PlaceId, LocalPlayer)
	end)
end

-- Appel final
CreateRejoinButton(mainFrame)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Button Resize Button

local resizeButton = Instance.new("ImageButton", mainFrame)
resizeButton.AnchorPoint = Vector2.new(0.5, 0.5)
resizeButton.Size = UDim2.new(0, 40, 0, 40)
resizeButton.Position = UDim2.new(0.5, 157, 0.5, -220)
resizeButton.Image = "http://www.roblox.com/asset/?id=92176830367195"
resizeButton.BackgroundTransparency = 1
resizeButton.ZIndex = 2

local isSmall = true -- Définir la taille initiale comme petite

-- Fonction pour basculer entre les tailles
local function toggleGuiSize()
	if isSmall then
		mainFrame.Size = UDim2.new(0, 650, 0, 500)
		scrollFrame.Size = UDim2.new(1, -20, 1, -60)
		scrollFrame.Position = UDim2.new(0, 10, 0, 50)

		refreshBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		refreshBtn.Size = UDim2.new(0, 47, 0, 47)
		refreshBtn.Position = UDim2.new(0.5, 250, 0.5, -220)

		closeBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		closeBtn.Size = UDim2.new(0, 40, 0, 40)
		closeBtn.Position = UDim2.new(0.5, 298, 0.5, -220)

		resizeButton.AnchorPoint = Vector2.new(0.5, 0.5)
		resizeButton.Size = UDim2.new(0, 40, 0, 40)
		resizeButton.Position = UDim2.new(0.5, 157, 0.5, -220)

		RejoinButton.AnchorPoint = Vector2.new(0.5, 0.5)
		RejoinButton.Size = UDim2.new(0, 40, 0, 40)
		RejoinButton.Position = UDim2.new(0.5, 204, 0.5, -220)

		lowPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		lowPlayersBtn.Size = UDim2.new(0, 40, 0, 40)
		lowPlayersBtn.Position = UDim2.new(0.5, -183, 0.5, -220)

		maxPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		maxPlayersBtn.Size = UDim2.new(0, 40, 0, 40)
		maxPlayersBtn.Position = UDim2.new(0.5, -264, 0.5, -220)

		CopyGamelive.AnchorPoint = Vector2.new(0.5, 0.5)
                CopyGamelive.Size = UDim2.new(0, 41, 0, 41)
                CopyGamelive.Position = UDim2.new(0.5, -227, 0.5, -220)

	else  
		mainFrame.Size = UDim2.new(0, 549, 0, 390)
		scrollFrame.Size = UDim2.new(1, -10, 1, -40)
		scrollFrame.Position = UDim2.new(0, 5, 0, 40)

		refreshBtn.Position = UDim2.new(0.5, 225, 0.5, -175)
		refreshBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		refreshBtn.Size = UDim2.new(0, 30, 0, 30)
		
		closeBtn.Position = UDim2.new(0.5, 255, 0.5, -175)
		closeBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		closeBtn.Size = UDim2.new(0, 25, 0, 25)

		RejoinButton.AnchorPoint = Vector2.new(0.5, 0.5)
		RejoinButton.Size = UDim2.new(0, 25, 0, 25)
		RejoinButton.Position = UDim2.new(0.5, 195, 0.5, -175)

		maxPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		maxPlayersBtn.Size = UDim2.new(0, 25, 0, 25)
		maxPlayersBtn.Position = UDim2.new(0.5, -222, 0.5, -175)

		lowPlayersBtn.AnchorPoint = Vector2.new(0.5, 0.5)
		lowPlayersBtn.Size = UDim2.new(0, 25, 0, 25)
		lowPlayersBtn.Position = UDim2.new(0.5, -173, 0.5, -175)

                CopyGamelive.AnchorPoint = Vector2.new(0.5, 0.5)
                CopyGamelive.Size = UDim2.new(0, 25, 0, 25)
                CopyGamelive.Position = UDim2.new(0.5, -199, 0.5, -175)

		resizeButton.AnchorPoint = Vector2.new(0.5, 0.5)
		resizeButton.Size = UDim2.new(0, 25, 0, 25)
		resizeButton.Position = UDim2.new(0.5, 167, 0.5, -175)

	end
	isSmall = not isSmall
end

resizeButton.MouseButton1Click:Connect(toggleGuiSize)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Services MODE PERFORMANCE BOOST 

-- Services
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")

-- Sauvegarde des réglages d'origine
local UserSettings = settings():GetService("RenderSettings")
local originalSettings = {
    QualityLevel = UserSettings.QualityLevel,
    EditQualityLevel = UserSettings.EditQualityLevel,
    GlobalShadows = Lighting.GlobalShadows
}

-- Active le mode performance boost
local function EnablePerformanceBoost()
    UserSettings.QualityLevel = Enum.QualityLevel.Level01
    UserSettings.EditQualityLevel = Enum.QualityLevel.Level01

    -- Désactive tous les effets visuels post-traitement
    for _, effect in pairs(Lighting:GetChildren()) do
        if effect:IsA("PostEffect") then
            effect.Enabled = false
        end
    end

    -- Désactive les ombres globales
    Lighting.GlobalShadows = false
end

-- Restaure les réglages normaux
local function DisablePerformanceBoost()
    UserSettings.QualityLevel = originalSettings.QualityLevel
    UserSettings.EditQualityLevel = originalSettings.EditQualityLevel

    for _, effect in pairs(Lighting:GetChildren()) do
        if effect:IsA("PostEffect") then
            effect.Enabled = true
        end
    end

    Lighting.GlobalShadows = originalSettings.GlobalShadows
end

-- Exemple : activer au lancement
EnablePerformanceBoost()

-- Exemple : désactiver quand tu fermes le GUI
closeBtn.MouseButton1Click:Connect(function()
    DisablePerformanceBoost()
    screenGui.Enabled = false
end)


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Notification pour me contacter au cas problème pour le Script Server Finder Deluxe
-- Impression de texte personnalisé pour la console roblox
-- Impression de Texte Traduits pour pluiseurs langues
local Modules = {
	Colors = {
		["Grey"] = "254, 254, 254",
		["Cyan"] = "33, 161, 163"
	}
}

Modules.ChangeColor = function() 
	game:GetService("RunService").Heartbeat:Connect(function()
		local console = game:GetService("CoreGui"):FindFirstChild("DevConsoleMaster")
		if console then
			for _, v in pairs(console:GetDescendants()) do
				if v:IsA("TextLabel") then 
					v.RichText = true 
				end 
			end
		end
	end)
end

Modules.print = function(color, text, size)
	if not Modules.Colors[color] then 
		warn("Color was not found!")
		return 
	end 

	local Text = '<font color="rgb(' .. Modules.Colors[color] .. ')"'
	if size then
		Text = Text .. ' size="' .. tostring(size) .. '"'
	end
	Text = Text .. '>' .. tostring(text) .. '</font>'
	print(Text)
end

local version = "4.4"

local translations = {
	fr = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe lancé !!!",
		contact = "Si vous avez un problème avec le script, contactez maxproglitcher sur Discord.",
	},
	en = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe is executed !!!",
		contact = "If you have a problem with the script, contact maxproglitcher on Discord.",
	},
	es = {
		line = "-------------------------------------------------------------------------------------",
		executed = "¡Script Server Finder Deluxe ejecutado!",
		contact = "Si tienes un problema con el script, contacta a maxproglitcher en Discord.",
	},
	de = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe wurde ausgeführt!",
		contact = "Bei Problemen mit dem Skript kontaktiere maxproglitcher auf Discord.",
	},
	it = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe eseguito!",
		contact = "Se hai problemi con lo script, contatta maxproglitcher su Discord.",
	},
	pt = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe executado!",
		contact = "Se você tiver problemas com o script, contate maxproglitcher no Discord.",
	},
	ru = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Скрипт Server Finder Deluxe запущен!",
		contact = "Если у вас есть проблемы со скриптом, свяжитесь с maxproglitcher в Discord.",
	},
	zh = {
		line = "-------------------------------------------------------------------------------------",
		executed = "脚本 Server Finder Deluxe 已执行！",
		contact = "如果您遇到脚本问题，请在 Discord 上联系 maxproglitcher。",
	},
	tr = {
		line = "-------------------------------------------------------------------------------------",
		executed = "Script Server Finder Deluxe çalıştırıldı!",
		contact = "Script ile ilgili bir sorun yaşarsanız, Discord üzerinden maxproglitcher ile iletişime geçin.",
	},
	ja = {
		line = "-------------------------------------------------------------------------------------",
		executed = "スクリプト Server Finder Deluxe を実行しました！",
		contact = "スクリプトに問題がある場合は、Discord で maxproglitcher に連絡してください。",
	},
	ar = {
		line = "-------------------------------------------------------------------------------------",
		executed = "تم تنفيذ سكربت Server Finder Deluxe!",
		contact = "إذا واجهت مشكلة في السكربت، تواصل مع maxproglitcher على ديسكورد.",
	}
}

-- Utilisation correcte de RobloxLocaleId côté client
local langCode = game:GetService("LocalizationService").RobloxLocaleId:lower():match("^([a-z][a-z])") or "en"
local msg = translations[langCode] or translations["en"]

Modules.ChangeColor()
Modules.print("Grey", msg.line, 20)
Modules.print("Grey", msg.executed, 20)
Modules.print("Grey", "Version "..version, 20)
Modules.print("Grey", msg.line, 20)
Modules.print("Grey", msg.contact, 20)
Modules.print("Grey", msg.line, 20)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
